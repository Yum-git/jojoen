<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>axiosテスト</title>
</head>
<style>
.style1 {
    font-family: 'Avenir', Helvetica, Arial, sans-serif;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-align: center;
    color: #2c3e50;
    margin-top: 120px;
}
</style>
<body>
    <div id="app" class="style1">
        <p>{{ sentence }}</p>
        <input type="text" v-model="sentence">
        <button v-on:click="reverseMessage">aaaa</button>
        <img :src="picture" alt="picture" />
        <audio controls :src="music" />
    </div>
 
<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
 
<script>
var app_data = new Vue({
    el: '#app',
    data: {
        music: null,
        picture: null,
        sentence: null
    },
    methods: {
        reverseMessage:function(){
        axios.get('http://192.168.99.100:5000/api',
        {
            params:{
				sentence: this.sentence,
			},
        },
        {withCredentials : true})
        .then(response => {
          console.log(response.data.audio, response.data.picture)
          this.music = "data:audio/wav;base64," + response.data.audio
          this.picture = "data:image/png;base64," + response.data.picture
        })
        .catch(response => console.log(response))
    }
    }
})
</script> 
</body>
</html>
